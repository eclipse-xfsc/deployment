aries-mediator-service:
  replicaCount: 1
  name: mediator-service

  image:
    repository: node-654e3bca7fbeeed18f81d7c7.ps-xaas.io/pcm
    name: aries-mediator-service
    # -- Image tag
    # Uses .Chart.AppVersion if empty
    tag: "0.8.2"
    # -- Image sha, usually generated by the CI
    # Uses image.tag if empty
    #sha: ""
    # -- Image pull policy
    pullPolicy: Always
    # -- Image pull secret when internal image is used
    #pullSecrets: regcred

  podAnnotations: {}

  resources:
    # requests:
    #   cpu: 25m
    #   memory: 64Mi
    # limits:
    #   cpu: 150m
    #   memory: 128Mi

  server:
    http:
      caddy: 2015
      mediator: 3000
  ingress:
    enabled: true
    annotations:
      nginx.ingress.kubernetes.io/rewrite-target: /$2
    hosts:
      - host: cloud-wallet.xfsc.dev
        paths:
          - path: /mediator(/|$)(.*)
            port: 2015
    tls:
      - secretName: xfsc-wildcard
        hosts: 
          - cloud-wallet.xfsc.dev

  security:
    runAsNonRoot: false
    runAsUid: 1000
    runAsGid: 1000
  config:
    label: XFSC-Mediator
    url: "cloud-wallet.xfsc.dev/mediator"
    postgres:
      host: my-release-postgresql.postgresql.svc.cluster.local
      port: "5432"
      password:
        key:  postgres-password
        name: my-release-postgresql
      super_password:
        key: postgres-password
        name: my-release-postgresql
      user: postgres
      super_user: postgres
      schema: DatabasePerWallet
